<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MyDeal Voucher Hub</title>
<style>
body{
  font-family:sans-serif;
  background:#121212;
  color:white;
  padding:20px;
}
h1{margin-bottom:30px}

.section{
  margin-bottom:50px;
}

.card{
  background:rgba(220,30,90,0.95);
  padding:18px;
  border-radius:16px;
  margin-bottom:15px;
  box-shadow:0 6px 0 #000;
}

.card img{
  width:100%;
  border-radius:10px;
  margin-bottom:10px;
}

input{
  width:100%;
  padding:8px;
  margin:6px 0;
}

button{
  padding:8px 12px;
  background:black;
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
}
</style>
</head>
<body>

<h1>Voucher Dashboard</h1>

<div class="section">
<h2>Tạo Voucher</h2>

<input id="title" placeholder="Tiêu đề">
<input id="code" placeholder="Mã voucher">
<input id="image" placeholder="Link hình ảnh">
<input id="desc" placeholder="Mô tả">
<input id="customLink" placeholder="Link tùy chỉnh (nếu có)">

<button onclick="addVoucher()">Tạo mã</button>
</div>

<div class="section">
<h2>Voucher Hiện Có</h2>
<div id="list"></div>
</div>

<script>
let vouchers = JSON.parse(localStorage.getItem("mydeal_vouchers")) || [];

function save(){
  localStorage.setItem("mydeal_vouchers", JSON.stringify(vouchers));
  render();
}

function addVoucher(){
  let v = {
    title:title.value,
    code:code.value,
    image:image.value,
    desc:desc.value,
    link:customLink.value || "https://shopee.com.my/user/voucher-wallet"
  };
  vouchers.push(v);
  save();
}

function openVoucher(code, link){
  navigator.clipboard.writeText(code);
  window.open(link, "_blank");
  alert("Đã copy mã: " + code + "\nDán vào Add Voucher và nhấn Enter.");
}

function render(){
  let html="";
  vouchers.forEach(v=>{
    html+=`
    <div class="card">
      ${v.image ? `<img src="${v.image}">`:""}
      <h3>${v.title}</h3>
      <p>${v.desc}</p>
      <p><b>Code:</b> ${v.code}</p>
      <button onclick="openVoucher('${v.code}','${v.link}')">Mở Link</button>
    </div>
    `;
  });
  list.innerHTML = html;
}

render();
</script>

</body>
</html>
